# –ü—Ä–æ–±–ª–µ–º–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤ —á–∏—Å—Ç–æ–º –Ø–ü

–ú—ã –Ω–∞—á–Ω—ë–º —Å –æ—á–µ–≤–∏–¥–Ω–æ–≥–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞. "–ß–∏—Å—Ç–∞—è" —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π; –û–Ω–∞ –Ω–µ –∏–º–µ–µ—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤. –û–¥–Ω–∞–∫–æ –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π —Ü–µ–ª—å—é –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã —è–≤–ª—è–µ—Ç—Å—è –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç: –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞, –∫–∞–∫–∏–µ-—Ç–æ –Ω–æ–≤—ã–µ –ø–∏–∫—Å–µ–ª–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —Ç–ø.
–í–≤–æ–¥-–≤—ã–≤–æ–¥ (I/O) —ç—Ç–æ —Å–º—ã—Å–ª —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ò–Ω–∞—á–µ –≥–æ–≤–æ—Ä—è, –ø—Ä–æ–≥—Ä–∞–º–º–∞, –Ω–µ –∏–º–µ—é—â–∞—è –Ω–∏–∫–∞–∫–∏—Ö –æ–±–æ–∑—Ä–∏–º—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (–Ω–µ—Ç –≤–≤–æ–¥–∞, –Ω–µ—Ç –≤—ã–≤–æ–¥–∞), –¥–ª—è –Ω–∞—Å –±–µ—Å–ø–æ–ª–µ–∑–Ω–∞.

–•–æ—Ä–æ—à–æ, –µ—Å–ª–∏ –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –≤–Ω—É—Ç—Ä–∏ —á–∏—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, —Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –∑–∞ –µ—ë –ø—Ä–µ–¥–µ–ª–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∑–º–æ–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º –≤—Ö–æ–¥—è—â–µ–π —Å—Ç—Ä–æ–∫–∏ –∫ –≤—ã—Ö–æ–¥—è—â–µ–π:

```purescript
main :: String -> String
```

–î–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞-–æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –Ω–∞ C –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–æ–∫—É –æ—Ç–∫—É–¥–∞-—Ç–æ (–∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–ª–∏ –∏–∑ –ø–æ—Ç–æ–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞), –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫ –Ω–µ–π, –∑–∞–ø–∏—Å–∞—Ç—å —Å—Ç—Ä–æ–∫—É-—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≥–¥–µ-—Ç–æ (–≤ –¥—Ä—É–≥–æ–º —Ñ–∞–π–ª–µ –∏–ª–∏ –ø–æ—Ç–æ–∫–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞).

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞—à–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —á–∏—Å—Ç—ã–º–∏-–Ω–µ–≤–∏–Ω–Ω—ã–º–∏ (—Å–≤–æ–±–æ–¥–Ω—ã–º–∏ –æ—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤), –∞ –≤—Å–µ –≥—Ä–µ—Ö–∏ (–ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã) –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ-–æ–±—ë—Ä—Ç–∫–µ.

## –ü–æ—Ç–æ–∫–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥ (Streaming I/O)

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–¥–∏–Ω –≥—Ä–µ—Ö –≤–µ–¥–µ—Ç –∫ –¥—Ä—É–≥–æ–º—É. –ß—Ç–æ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å—á–∏—Ç–∞—Ç—å –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞?
–ò–ª–∏ —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã, –æ—Ç–∫—Ä—ã—Ç—å —Å–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è-—Å–æ–∫–µ—Ç—ã, –∑–∞–¥–µ—Ä–∂–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è, ...? –ü–æ–ø—Ä–æ–±—É–µ–º –æ–±–æ–≥–∞—Ç–∏—Ç—å —Ç–∏–ø –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ —Ç–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã:

```purescript
main :: List Response -> List Request
```

```
               ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
 List Request  ‚ïë   –ü—Ä–æ–≥—Ä–∞–º–º–∞  ‚ïë  List Response
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë              ‚ïëÀÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ     ‚ïë    (main)    ‚ïë         ‚îÇ
         ‚îÇ     ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù         ‚îÇ
         ‚îÇ     ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó   ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄÀÉ‚ïë    –û–±—ë—Ä—Ç–∫–∞         ‚ïë‚îÄ‚îÄ‚îÄ‚îò
               ‚ïë (–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã) ‚ïë
               ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

–¢–µ–ø–µ—Ä—å –Ω–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –ª–µ–Ω–∏–≤—ã–π —Å–ø–∏—Å–æ–∫ (–ø–æ—Ç–æ–∫) –∑–Ω–∞—á–µ–Ω–∏–π —Ç–∏–ø–∞ `Response` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–µ–Ω–∏–≤—ã–π —Å–ø–∏—Å–æ–∫ (–ø–æ—Ç–æ–∫) –∑–Ω–∞—á–µ–Ω–∏–π —Ç–∏–ø–∞ `Request`.

–í—ã—Ä–∞–∂–∞—è—Å—å –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω–æ, `Request` –≥–æ–≤–æ—Ä–∏—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–∞–π –º–Ω–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–æ–≥–æ —Ñ–∞–π–ª–∞ /etc/motd" –∞ `Response` –º–æ–∂–µ—Ç –≥–æ–≤–æ—Ä–∏—Ç—å "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä–æ–µ —Ç—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª —ç—Ç–æ No email today". 

–ë–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ, –∏ `Request` –∏ `Response` —è–≤–ª—è—é—Ç—Å—è –æ–±—ã—á–Ω—ã–º–∏ –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —ç—Ç–æ–≥–æ:

```purescript
type FilePath = String

data Request = ReadFile FilePath
             | WriteFile FilePath String
             | ....

data Response = RequestFailed
              | ReadSucceeded String
              | WriteSucceeded
              | ...
```

–ù–∞–º –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –Ω—É–∂–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞-–æ–±—ë—Ä—Ç–∫–∞. –û–Ω–∞ –±–µ—Ä—ë—Ç –æ–¥–∏–Ω `Request` –∑–∞ –¥—Ä—É–≥–∏–º –∏–∑ –ø–æ—Ç–æ–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç `Response` –∫ –ø–æ—Ç–æ–∫—É –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏.

–î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–º –∏ –¥–∞–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∫–∞–∫ –º–æ–¥–µ–ª—å –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ –≤ –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏ —è–∑—ã–∫–∞ Haskell, –Ω–æ —É –Ω–µ–≥–æ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤:

* –ï–≥–æ —Å–ª–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å. –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–≤–æ–¥–∞ –∏–ª–∏ –≤—ã–≤–æ–¥–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ —Å –ø–æ–º–æ—â—å—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤) –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏—Ö —Ç–∏–ø–æ–≤ `Request` –∏ `Response`, –∞ —Ç–∞–∫–∂–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—ã –æ–±—ë—Ä—Ç–∫–∏. –ú–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ, —á—Ç–æ –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —è–∑—ã–∫–∞ —Å–º–æ–≥—É—Ç —ç—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å.

* –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –±–ª–∏–∑–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–æ–º –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –µ–º—É –æ—Ç–≤–µ—Ç–æ–º. –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—á–µ–Ω—å –ª–µ–≥–∫–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –∫–æ—Ç–æ—Ä–æ–π —Ç–∞–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø–æ –æ—à–∏–±–∫–µ.

* –î–∞–∂–µ –µ—Å–ª–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏) —Ç–∞–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, —Ç–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—á–µ–Ω—å –ª–µ–≥–∫–æ –ø–æ –æ—à–∏–±–∫–µ –≤—ã—á–∏—Å–ª–∏—Ç—å –ø–æ—Ç–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ–¥–∏–Ω –¥–∞–ª—å—à–µ —á–µ–º –Ω—É–∂–Ω–æ –∏ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø—É—Å–∫ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —Ç–æ—Ç –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –Ω–µ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω –Ω–∏–∫–æ–≥–¥–∞.

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–± –ø—ã—Ç–∞—Ç—å—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, –º—ã –ø–µ—Ä–µ–π–¥–µ–º –∫ –ª—É—á—à–µ–º—É —Ä–µ—à–µ–Ω–∏—é –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º "–ú–æ–Ω–∞–¥–∏—á–µ—Å–∫–∏–π –í–≤–æ–¥/–í—ã–≤–æ–¥" (monadic I/O).

## –ú–æ–Ω–∞–¥–∏—á–µ—Å–∫–∏–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥ (Monadic I/O)

–ë–æ–ª—å—à–π –ø—Ä–æ—Ä—ã–≤ –≤ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ –¥–ª—è —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–∏–∑–æ—à—ë–ª —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –º—ã –Ω–∞—É—á–∏–ª–∏—Å—å –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ –º–æ–Ω–∞–¥—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º. –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º:

–ó–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `Effect a` –ø—Ä–µ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–µ–∫–æ–µ "–¥–µ–π—Å—Ç–≤–∏–µ", –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–≥—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `a`.

–≠—Ç–æ –≤–µ—Å—å–º–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç—Ä–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –∏ —è –Ω–µ –±—É–¥—É —É–¥–∏–≤–ª–µ–Ω –µ—Å–ª–∏ —Å–µ–π—á–∞—Å –æ–Ω–æ –¥–ª—è –≤–∞—Å –ø–æ—á—Ç–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç. –ü–æ—ç—Ç–æ–º—É –≤–æ—Ç –µ—â—ë –æ–¥–∏–Ω, –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ —ç—Ç–∏ "–¥–µ–π—Å—Ç–≤–∏—è":

```purescript
type Effect a = World -> Tuple a World
```

–≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ `Effect a` –æ–∑–Ω–∞—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥—É—á–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫ –∞—Ä–≥—É–º–µ–Ω—Ç—É —Ç–∏–ø–∞ `World` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π `World` –≤ –ø–∞—Ä–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ç–∏–ø–∞ `a`. 

–≠—Ç–∞ –∏–¥–µ—è —Å—Ç–∞–≤–∏—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ —Ü–µ–Ω—Ç—Ä: –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ü–µ–ª–æ–≥–æ –º–∏—Ä–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–≤–≤–æ–¥) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞ –∏–∑–º–µ–Ω—ë–Ω–Ω–æ–µ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

–ú–æ–∂–Ω–æ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞  `Effect a` —Ç–∞–∫:

```
            ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
World  ‚îÄ‚îÄ‚îÄÀÉ ‚ïë Effect a ‚ïë ‚îÄ‚îÄ‚îÄÀÉ World (–∏–∑–º–µ–Ω—ë–Ω–Ω—ã–π)
            ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
                     ü†ã
                   –†–µ–∑—É–ª—å—Ç–∞—Ç: a
```

–°–∫–∞—Ä–º–ª–∏–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞ —Å–ª–µ–≤–∞, –º—ã –ø–æ–ª—É—á–∞–µ–º –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞ –≤–º–µ—Å—Ç–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ç–∏–ø–∞ `a` —Å–ø—Ä–∞–≤–∞.

–í–æ–æ–±—â–µ –º—ã –±—É–¥–µ–º –Ω–∞–∑—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `Effect a` _"–¥–µ–π—Å—Ç–≤–∏–µ–º –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞"_ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ _"–¥–µ–π—Å—Ç–≤–∏–µ–º"_. –í –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ –≤—ã –º–æ–∂–µ—Ç–µ —Ç–∞–∫–∂–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ _"–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ"_.

–ú—ã –º–æ–∂–µ–º –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ç–∏–ø—ã `Effect` –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –∑–Ω–∞–∫–æ–º—ã–º –Ω–∞–º —Ñ—É–Ω–∫—Ü–∏—è–º, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤:

```purescript
readString :: Effect String
printString :: String -> Effect Unit
```

`readString` —ç—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤–≤–æ–¥–∞ (—Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –æ–∫–∞–∑—ã–≤–∞—è —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –º–∏—Ä, –æ–∫—Ä—É–∂–∞—é—â–∏–π –ø—Ä–æ–≥—Ä–∞–º–º—É) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—ë –ø—Ä–æ–≥—Ä–∞–º–º–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—è.

`printString` —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–µ—á–∞—Ç–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –≤—ã–≤–æ–¥–∞ (—ç—Ç–æ –µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç –æ–∫–∞–∑—ã–≤–∞–µ–º—ã–π –Ω–∞ –æ–∫—Ä—É–∂–∞—é—â–∏–π –º–∏—Ä) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–µ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `Unit`. 

–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —ç—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫: (the box for printString takes an extra input for the Char argument):

```
readString :: Effect String

      ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó String
      ‚ïë            ‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>
      ‚ïë readString ‚ïë
 ‚îÄ‚îÄ‚îÄ‚îÄ>‚ïë            ‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>
      ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

```

```
printString :: String -> Effect Unit

String ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó Unit
 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚ïë             ‚ïë‚îÄ‚îÄ‚îÄ‚îÄ>
       ‚ïë printString ‚ïë
 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚ïë             ‚ïë‚îÄ‚îÄ‚îÄ‚îÄ>
       ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

–î–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º —Å—á–∏—Ç–∞—Ç—å —Å—Ç—Ä–æ–∫—É –∏ –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å —Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä—É—é —Å—á–∏—Ç–∞–ª–∏. –ú—ã –¥–æ–ª–∂–Ω—ã –æ–±—ä–µ–¥–µ–Ω–∏—Ç—å –≤–º–µ—Å—Ç–µ –¥–≤–∞ –¥–µ–π—Å—Ç–≤–∏—è –≤ –æ–¥–Ω–æ (–æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ). –≠—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ç–∞–∫:

```
bind readString printString 
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë     ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó  String    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó Unit ‚ïë
‚ïë     ‚ïë            ‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚ïë             ‚ïë‚îÄ‚îÄ‚îÄ‚îÄ> ‚ïë
‚ïë     ‚ïë readString ‚ïë            ‚ïë printString ‚ïë      ‚ïë
‚ïë ‚îÄ‚îÄ‚îÄ>‚ïë            ‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚ïë             ‚ïë‚îÄ‚îÄ‚îÄ‚îÄ> ‚ïë
‚ïë     ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù            ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù      ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

–ß—Ç–æ–± –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—å —ç—Ç–æ–≥–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é-—Å–∫–ª–µ–π–∫—É, –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä,
–∫–æ—Ç–æ—Ä–∞—è —Ç–æ–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–∏–º–∏—Ç–∏–≤: 

```purescript
bind :: forall a b. Effect a -> (a -> Effect b) -> Effect b

infixl 1 bind as >>=
```

```purescript
echo :: Effect Unit
echo = readString >>= printString
```

–í —Å–≤–æ–µ–π –∏–Ω—Ñ–∏–∫—Å–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏ —ç—Ç–æ—Ç –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä `>>=` —á–∞—Å—Ç–æ –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è –∫–∞–∫ "–±–∞–π–Ω–¥". –û–Ω –≤–æ–ø–ª–æ—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –¥–µ–π—Å—Ç–≤–∏–π: –ø–µ—Ä–µ–¥–∞—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–π –≤—Ç–æ—Ä–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. 

–ê —Ç–æ—á–Ω–µ–µ, –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è `a >>= f`, –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ `a`, –±–µ—Ä—ë—Ç –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `f` –∫ –Ω–µ–º—É —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç —ç—Ç–æ –Ω–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. 

–í –ø—Ä–∏–º–µ—Ä–µ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `echo` (`readString >>= printString`) —Å–ø–µ—Ä–≤–∞ –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç `readString`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–µ —Å—Ç—Ä–æ–∫—É `s`, –∏ –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç `printString s`.


–î–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å `echo` –¥–≤–∞–∂–¥—ã –ø–æ–¥—Ä—è–¥. –ú—ã –Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `echo >>= echo`, —Ç–∞–∫ –∫–∞–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä `>>=` –æ–∂–∏–¥–∞–µ—Ç –≤–æ –≤—Ç–æ—Ä–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∞ –Ω–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞. –ò –≤ —Å–∞–º–æ–º –¥–µ–ª–µ, –º—ã —Ö–æ—Ç–∏–º –æ—Ç–±—Ä–æ—Å–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∏–ø–∞ `Unit` –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è. –ë—É–¥–µ—Ç —É–¥–æ–±–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Ç–æ—Ä–æ–π –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä `>>` c –ø–æ–º–æ—â—å—é —É–∂–µ –∏–º–µ—é—â–µ–≥–æ—Å—è `>>=` , in terms of the first:

```purescript
followedBy :: Effect a -> Effect b -> Effect b
followedBy ea eb = ea >>= \_ -> eb

infixl 1 followedBy as >>
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å

```purescript
echoTwice :: Effect Unit
echoTwice = echo >> echo
```

–û–ø–µ—Ä–∞—Ç–æ—Ä-–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä `>>` —á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ "–∑–∞—Ç–µ–º", —Ç–∞–∫ —á—Ç–æ –ø—Ä–∞–≤–∞—è —á–∞—Å—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è —á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ ‚Äúecho –∑–∞—Ç–µ–º echo‚Äù.

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –æ—á–µ–Ω—å —á–∞—Å—Ç–æ —Å –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `bind` (`>>=`) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª—è–º–±–¥–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è (–∞–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è). –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç –∫–∞–∫ –º—ã –º–æ–∂–µ–º —Å—á–∏—Ç–∞—Ç—å —Å—Ç—Ä–æ–∫—É –∏ –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –µ—ë –¥–≤–∞–∂–¥—ã:

```purescript
echoDup :: Effect Unit
echoDup = readString >>= (\s -> (printString s >> printString s))
```

All the parentheses in this example are optional, because a lambda abstraction extends as far to the right as
possible, and you will often see this laid out like this:

```purescript

echoDup :: IO ()
echoDup = 
  readString      >>= \s ->
    printString s >>
    printString s
```
