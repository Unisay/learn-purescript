# ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð² Ð² Ñ‡Ð¸ÑÑ‚Ð¾Ð¼ Ð¯ÐŸ

ÐœÑ‹ Ð½Ð°Ñ‡Ð½Ñ‘Ð¼ Ñ Ð¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ð¾Ð³Ð¾ Ñ„ÑƒÐ½Ð´Ð°Ð¼ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ð°. "Ð§Ð¸ÑÑ‚Ð°Ñ" Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÐµÐ¹; ÐžÐ½Ð° Ð½Ðµ Ð¸Ð¼ÐµÐµÑ‚ Ð¿Ð¾Ð±Ð¾Ñ‡Ð½Ñ‹Ñ… ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð². ÐžÐ´Ð½Ð°ÐºÐ¾ Ð½ÐµÐ¸Ð·Ð¼ÐµÐ½Ð½Ð¾Ð¹ Ñ†ÐµÐ»ÑŒÑŽ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ð¾Ð±Ð¾Ñ‡Ð½Ñ‹Ð¹ ÑÑ„Ñ„ÐµÐºÑ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ð½Ð° Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚: Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð°, ÐºÐ°ÐºÐ¸Ðµ-Ñ‚Ð¾ Ð½Ð¾Ð²Ñ‹Ðµ Ð¿Ð¸ÐºÑÐµÐ»Ð¸ Ð½Ð° ÑÐºÑ€Ð°Ð½Ðµ, Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¸ Ñ‚Ð¿.
Ð’Ð²Ð¾Ð´-Ð²Ñ‹Ð²Ð¾Ð´ (I/O) ÑÑ‚Ð¾ ÑÐ¼Ñ‹ÑÐ» ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ð¸Ñ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹. Ð˜Ð½Ð°Ñ‡Ðµ Ð³Ð¾Ð²Ð¾Ñ€Ñ, Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°, Ð½Ðµ Ð¸Ð¼ÐµÑŽÑ‰Ð°Ñ Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… Ð¾Ð±Ð¾Ð·Ñ€Ð¸Ð¼Ñ‹Ñ… ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð² (Ð½ÐµÑ‚ Ð²Ð²Ð¾Ð´Ð°, Ð½ÐµÑ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð°), Ð´Ð»Ñ Ð½Ð°Ñ Ð±ÐµÑÐ¿Ð¾Ð»ÐµÐ·Ð½Ð°.

Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾, ÐµÑÐ»Ð¸ Ð¿Ð¾Ð±Ð¾Ñ‡Ð½Ñ‹Ð¹ ÑÑ„Ñ„ÐµÐºÑ‚ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ñ‡Ð¸ÑÑ‚Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹, Ñ‚Ð¾ Ð¾Ð½ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð·Ð° ÐµÑ‘ Ð¿Ñ€ÐµÐ´ÐµÐ»Ð°Ð¼Ð¸. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÐµÐ¼ Ð²Ñ…Ð¾Ð´ÑÑ‰ÐµÐ¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ðº Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‰ÐµÐ¹:

```purescript
main :: String -> String
```

Ð”Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼, Ñ‡Ñ‚Ð¾ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°-Ð¾Ð±Ñ‘Ñ€Ñ‚ÐºÐ° Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð½Ð°Ñ Ð½Ð° C Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð¾Ñ‚ÐºÑƒÐ´Ð°-Ñ‚Ð¾ (Ð¸Ð· ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¸Ð»Ð¸ Ð¸Ð· Ð¿Ð¾Ñ‚Ð¾ÐºÐ° ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð³Ð¾ Ð²Ð²Ð¾Ð´Ð°), Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ðº Ð½ÐµÐ¹, Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ-Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð³Ð´Ðµ-Ñ‚Ð¾ (Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ñ„Ð°Ð¹Ð»Ðµ Ð¸Ð»Ð¸ Ð¿Ð¾Ñ‚Ð¾ÐºÐµ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð³Ð¾ Ð²Ñ‹Ð²Ð¾Ð´Ð°).

Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼, Ð½Ð°ÑˆÐ¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¾ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ñ‡Ð¸ÑÑ‚Ñ‹Ð¼Ð¸-Ð½ÐµÐ²Ð¸Ð½Ð½Ñ‹Ð¼Ð¸ (ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ð¼Ð¸ Ð¾Ñ‚ Ð¿Ð¾Ð±Ð¾Ñ‡Ð½Ñ‹Ñ… ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð²), Ð° Ð²ÑÐµ Ð³Ñ€ÐµÑ…Ð¸ (Ð¿Ð¾Ð±Ð¾Ñ‡Ð½Ñ‹Ðµ ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹) Ð±ÑƒÐ´ÑƒÑ‚ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ Ð² Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ-Ð¾Ð±Ñ‘Ñ€Ñ‚ÐºÐµ.

## ÐŸÐ¾Ñ‚Ð¾ÐºÐ¾Ð²Ñ‹Ð¹ Ð²Ð²Ð¾Ð´/Ð²Ñ‹Ð²Ð¾Ð´ (Streaming I/O)

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð² Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾ Ð¾Ð´Ð¸Ð½ Ð³Ñ€ÐµÑ… Ð²ÐµÐ´ÐµÑ‚ Ðº Ð´Ñ€ÑƒÐ³Ð¾Ð¼Ñƒ. Ð§Ñ‚Ð¾ ÐµÑÐ»Ð¸ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð±Ð¾Ð»ÐµÐµ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°?
Ð˜Ð»Ð¸ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»Ñ‹, Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐµÑ‚ÐµÐ²Ñ‹Ðµ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ-ÑÐ¾ÐºÐµÑ‚Ñ‹, Ð·Ð°Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð½Ð° ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ, ...? ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐµÐ¼ Ð¾Ð±Ð¾Ð³Ð°Ñ‚Ð¸Ñ‚ÑŒ Ñ‚Ð¸Ð¿ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° Ð¸ Ñ‚Ð¸Ð¿ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð° Ð½Ð°ÑˆÐµÐ¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹:

```purescript
main :: List Response -> List Request
```

```
               â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 List Request  â•‘   ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°  â•‘  List Response
         â”Œâ”€â”€â”€â”€â”€â•‘              â•‘Ë‚â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚     â•‘    (main)    â•‘         â”‚
         â”‚     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•         â”‚
         â”‚     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—   â”‚
         â””â”€â”€â”€â”€Ëƒâ•‘    ÐžÐ±Ñ‘Ñ€Ñ‚ÐºÐ°         â•‘â”€â”€â”€â”˜
               â•‘ (ÐŸÐ¾Ð±Ð¾Ñ‡Ð½Ñ‹Ðµ ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹) â•‘
               â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð½Ð°ÑˆÐ° Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° Ð»ÐµÐ½Ð¸Ð²Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº (Ð¿Ð¾Ñ‚Ð¾Ðº) Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ñ‚Ð¸Ð¿Ð° `Response` Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð»ÐµÐ½Ð¸Ð²Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº (Ð¿Ð¾Ñ‚Ð¾Ðº) Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ñ‚Ð¸Ð¿Ð° `Request`.

Ð’Ñ‹Ñ€Ð°Ð¶Ð°ÑÑÑŒ Ð½ÐµÑ„Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾, `Request` Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð²Ñ€Ð¾Ð´Ðµ "ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð´Ð°Ð¹ Ð¼Ð½Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ñ‚Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð° /etc/motd" Ð° `Response` Ð¼Ð¾Ð¶ÐµÑ‚ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ÑŒ "Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ñ„Ð°Ð¹Ð»Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ñ‚Ñ‹ Ð·Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ð» ÑÑ‚Ð¾ No email today". 

Ð‘Ð¾Ð»ÐµÐµ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾, Ð¸ `Request` Ð¸ `Response` ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¼Ð¸ Ð°Ð»Ð³ÐµÐ±Ñ€Ð°Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð²Ñ€Ð¾Ð´Ðµ ÑÑ‚Ð¾Ð³Ð¾:

```purescript
type FilePath = String

data Request = ReadFile FilePath
             | WriteFile FilePath String
             | ....

data Response = RequestFailed
              | ReadSucceeded String
              | WriteSucceeded
              | ...
```

ÐÐ°Ð¼ Ð¿Ð¾-Ð¿Ñ€ÐµÐ¶Ð½ÐµÐ¼Ñƒ Ð½ÑƒÐ¶Ð½Ð° Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°-Ð¾Ð±Ñ‘Ñ€Ñ‚ÐºÐ°. ÐžÐ½Ð° Ð±ÐµÑ€Ñ‘Ñ‚ Ð¾Ð´Ð¸Ð½ `Request` Ð·Ð° Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð¸Ð· Ð¿Ð¾Ñ‚Ð¾ÐºÐ° Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸, Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ Ð¿Ð¾Ð±Ð¾Ñ‡Ð½Ñ‹Ð¹ ÑÑ„Ñ„ÐµÐºÑ‚ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ `Response` Ðº Ð¿Ð¾Ñ‚Ð¾ÐºÑƒ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸.

Ð”Ð°Ð½Ð½Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð²Ñ‹Ñ€Ð°Ð·Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼ Ð¸ Ð´Ð°Ð¶Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»ÑÑ ÐºÐ°Ðº Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð°/Ð²Ñ‹Ð²Ð¾Ð´Ð° Ð² Ð¿ÐµÑ€Ð²Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸ ÑÐ·Ñ‹ÐºÐ° Haskell, Ð½Ð¾ Ñƒ Ð½ÐµÐ³Ð¾ ÐµÑÑ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð½ÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¾Ð²:

* Ð•Ð³Ð¾ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÑ‚ÑŒ. ÐÐ¾Ð²Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð²Ð²Ð¾Ð´Ð° Ð¸Ð»Ð¸ Ð²Ñ‹Ð²Ð¾Ð´Ð° Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ (Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð½Ð¾Ð²Ñ‹Ñ… ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð²) Ð°Ð»Ð³ÐµÐ±Ñ€Ð°Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² `Request` Ð¸ `Response`, Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸ÐµÐ¼ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð¾Ð±Ñ‘Ñ€Ñ‚ÐºÐ¸. ÐœÐ°Ð»Ð¾Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾, Ñ‡Ñ‚Ð¾ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ ÑÐ·Ñ‹ÐºÐ° ÑÐ¼Ð¾Ð³ÑƒÑ‚ ÑÑ‚Ð¾ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ.

* ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð±Ð»Ð¸Ð·ÐºÐ¾Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð¼ÐµÐ¶Ð´Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð¼ Ð¸ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¼ ÐµÐ¼Ñƒ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð¼. Ð¡Ñ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ Ð¾Ñ‡ÐµÐ½ÑŒ Ð»ÐµÐ³ÐºÐ¾ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ñ‚Ð°ÐºÐ¾Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ‚ÐµÑ€ÑÐµÑ‚ÑÑ Ð¿Ð¾ Ð¾ÑˆÐ¸Ð±ÐºÐµ.

* Ð”Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð½Ð° ÐºÐ°Ð¶Ð´Ð¾Ð¼ ÑˆÐ°Ð³Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ (Ð¿Ñ€Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð²Ñ‹Ð·Ð¾Ð²Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸) Ñ‚Ð°ÐºÐ¾Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ, Ñ‚Ð¾ Ð²ÑÑ‘ Ñ€Ð°Ð²Ð½Ð¾ Ð¾Ñ‡ÐµÐ½ÑŒ Ð»ÐµÐ³ÐºÐ¾ Ð¿Ð¾ Ð¾ÑˆÐ¸Ð±ÐºÐµ Ð²Ñ‹Ñ‡Ð¸ÑÐ»Ð¸Ñ‚ÑŒ Ð¿Ð¾Ñ‚Ð¾Ðº Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð½Ð° Ð¾Ð´Ð¸Ð½ Ð´Ð°Ð»ÑŒÑˆÐµ Ñ‡ÐµÐ¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¸ Ñ‚Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼ Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ñ‹Ð¿ÑƒÑÐº Ð´Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐ¸Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð° Ð½Ð° Ñ‚Ð¾Ñ‚ Ð·Ð°Ð¿Ñ€Ð¾Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑƒÐ¶Ðµ Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°.

Ð’Ð¼ÐµÑÑ‚Ð¾ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾Ð± Ð¿Ñ‹Ñ‚Ð°Ñ‚ÑŒÑÑ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð½ÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¸, Ð¼Ñ‹ Ð¿ÐµÑ€ÐµÐ¹Ð´ÐµÐ¼ Ðº Ð»ÑƒÑ‡ÑˆÐµÐ¼Ñƒ Ñ€ÐµÑˆÐµÐ½Ð¸ÑŽ Ð¿Ð¾Ð´ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ "ÐœÐ¾Ð½Ð°Ð´Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð’Ð²Ð¾Ð´/Ð’Ñ‹Ð²Ð¾Ð´" (monadic I/O).

## ÐœÐ¾Ð½Ð°Ð´Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð²Ð²Ð¾Ð´/Ð²Ñ‹Ð²Ð¾Ð´ (Monadic I/O)

Ð‘Ð¾Ð»ÑŒÑˆÐ¹ Ð¿Ñ€Ð¾Ñ€Ñ‹Ð² Ð² Ð¼Ð¾Ð´ÐµÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð²Ð²Ð¾Ð´Ð°/Ð²Ñ‹Ð²Ð¾Ð´Ð° Ð´Ð»Ñ Ñ‡Ð¸ÑÑ‚Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐ·Ñ‹ÐºÐ¾Ð² Ð¿Ñ€Ð¾Ð¸Ð·Ð¾ÑˆÑ‘Ð» Ñ‚Ð¾Ð³Ð´Ð°, ÐºÐ¾Ð³Ð´Ð° Ð¼Ñ‹ Ð½Ð°ÑƒÑ‡Ð¸Ð»Ð¸ÑÑŒ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑ‚ÑŒ Ñ‚Ð°Ðº Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð¼Ð¾Ð½Ð°Ð´Ñ‹ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑÐ¿Ð¾ÑÐ¾Ð±Ð° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼. ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ð¸Ð´ÐµÑ Ð·Ð°ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼:

Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð° `Effect a` Ð¿Ñ€ÐµÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ ÑÐ¾Ð±Ð¾Ð¹ Ð½ÐµÐºÐ¾Ðµ "Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ", Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ÑŒ ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹ Ð²Ð²Ð¾Ð´Ð°/Ð²Ñ‹Ð²Ð¾Ð´Ð°, Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð° `a`.

Ð­Ñ‚Ð¾ Ð²ÐµÑÑŒÐ¼Ð° Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ‚Ñ€Ð¾Ðµ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ, Ð¸ Ñ Ð½Ðµ Ð±ÑƒÐ´Ñƒ ÑƒÐ´Ð¸Ð²Ð»ÐµÐ½ ÐµÑÐ»Ð¸ ÑÐµÐ¹Ñ‡Ð°Ñ Ð¾Ð½Ð¾ Ð´Ð»Ñ Ð²Ð°Ñ Ð¿Ð¾Ñ‡Ñ‚Ð¸ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚. ÐŸÐ¾ÑÑ‚Ð¾Ð¼Ñƒ Ð²Ð¾Ñ‚ ÐµÑ‰Ñ‘ Ð¾Ð´Ð¸Ð½, Ð±Ð¾Ð»ÐµÐµ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð²Ð·Ð³Ð»ÑÐ´ Ð½Ð° ÑÑ‚Ð¸ "Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ":

```purescript
type Effect a = World -> Tuple a World
```

Ð­Ñ‚Ð¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð° `Effect a` Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð±ÑƒÐ´ÑƒÑ‡Ð¸ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð° Ðº Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñƒ Ñ‚Ð¸Ð¿Ð° `World` Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð½Ð¾Ð²Ñ‹Ð¹ `World` Ð² Ð¿Ð°Ñ€Ðµ Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð¼ Ñ‚Ð¸Ð¿Ð° `a`. 

Ð­Ñ‚Ð° Ð¸Ð´ÐµÑ ÑÑ‚Ð°Ð²Ð¸Ñ‚ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ Ð² Ñ†ÐµÐ½Ñ‚Ñ€: Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ñ†ÐµÐ»Ð¾Ð³Ð¾ Ð¼Ð¸Ñ€Ð° Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… (Ð²Ð²Ð¾Ð´) Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð½Ð¾Ð²Ð¾Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¼Ð¸Ñ€Ð° Ð¸Ð·Ð¼ÐµÐ½Ñ‘Ð½Ð½Ð¾Ðµ ÑÑ„Ñ„ÐµÐºÑ‚Ð°Ð¼Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°.

ÐœÐ¾Ð¶Ð½Ð¾ Ð²Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð°  `Effect a` Ñ‚Ð°Ðº:

```
            â•”â•â•â•â•â•â•â•â•â•â•â•—
World  â”€â”€â”€Ëƒ â•‘ Effect a â•‘ â”€â”€â”€Ëƒ World (Ð¸Ð·Ð¼ÐµÐ½Ñ‘Ð½Ð½Ñ‹Ð¹)
            â•šâ•â•â•â•â•â•â•â•â•â•â•
                     ðŸ ‹
                   Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚: a
```

Ð¡ÐºÐ°Ñ€Ð¼Ð»Ð¸Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¼Ð¸Ñ€Ð° ÑÐ»ÐµÐ²Ð°, Ð¼Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð½Ð¾Ð²Ð¾Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¼Ð¸Ñ€Ð° Ð²Ð¼ÐµÑÑ‚Ðµ Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð¼ Ñ‚Ð¸Ð¿Ð° `a` ÑÐ¿Ñ€Ð°Ð²Ð°.

Ð’Ð¾Ð¾Ð±Ñ‰Ðµ Ð¼Ñ‹ Ð±ÑƒÐ´ÐµÐ¼ Ð½Ð°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð° `Effect a` _"Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÐµÐ¼ Ð²Ð²Ð¾Ð´Ð°/Ð²Ñ‹Ð²Ð¾Ð´Ð°"_ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ _"Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÐµÐ¼"_. Ð’ Ð»Ð¸Ñ‚ÐµÑ€Ð°Ñ‚ÑƒÑ€Ðµ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ñ‚Ð°ÐºÐ¶Ðµ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ _"Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ðµ"_.

ÐœÑ‹ Ð¼Ð¾Ð¶ÐµÐ¼ Ð½Ð°Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¸Ð¿Ñ‹ `Effect` Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼ Ð·Ð½Ð°ÐºÐ¾Ð¼Ñ‹Ð¼ Ð½Ð°Ð¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼, Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼Ñ‹Ð¼ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð¿Ñ€Ð¸Ð¼Ð¸Ñ‚Ð¸Ð²Ð¾Ð²:

```purescript
readString :: Effect String
printString :: String -> Effect Unit
```

`readString` ÑÑ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð²Ð²Ð¾Ð´Ð°/Ð²Ñ‹Ð²Ð¾Ð´Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¿Ñ€Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ð¸ ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð¸Ð· ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð³Ð¾ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° Ð²Ð²Ð¾Ð´Ð° (Ñ‚Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼ Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ ÑÑ„Ñ„ÐµÐºÑ‚ Ð½Ð° Ð¼Ð¸Ñ€, Ð¾ÐºÑ€ÑƒÐ¶Ð°ÑŽÑ‰Ð¸Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ) Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ ÐµÑ‘ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð° Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ.

`printString` ÑÑ‚Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð²Ð²Ð¾Ð´Ð°/Ð²Ñ‹Ð²Ð¾Ð´Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¿Ñ€Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ð¸ Ð¿ÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð½Ð° ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¼ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ðµ Ð²Ñ‹Ð²Ð¾Ð´Ð° (ÑÑ‚Ð¾ ÐµÐ³Ð¾ ÑÑ„Ñ„ÐµÐºÑ‚ Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ð¹ Ð½Ð° Ð¾ÐºÑ€ÑƒÐ¶Ð°ÑŽÑ‰Ð¸Ð¹ Ð¼Ð¸Ñ€) Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ Ñ‚Ñ€Ð¸Ð²Ð¸Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð° `Unit`. 

Ð“Ñ€Ð°Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÑ‚Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð²Ñ‹Ð³Ð»ÑÐ´ÑÑ‚ Ñ‚Ð°Ðº: (the box for printString takes an extra input for the Char argument):

```
readString :: Effect String

      â•”â•â•â•â•â•â•â•â•â•â•â•â•â•— String
      â•‘            â•‘â”€â”€â”€â”€â”€>
      â•‘ readString â•‘
 â”€â”€â”€â”€>â•‘            â•‘â”€â”€â”€â”€â”€>
      â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•

```

```
printString :: String -> Effect Unit

String â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•— Unit
 â”€â”€â”€â”€â”€>â•‘             â•‘â”€â”€â”€â”€>
       â•‘ printString â•‘
 â”€â”€â”€â”€â”€>â•‘             â•‘â”€â”€â”€â”€>
       â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

Ð”Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼, Ñ‡Ñ‚Ð¾ Ð¼Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ð¼ ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð¸ Ð½Ð°Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ ÑÑ‡Ð¸Ñ‚Ð°Ð»Ð¸. ÐœÑ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð¾Ð±ÑŠÐµÐ´ÐµÐ½Ð¸Ñ‚ÑŒ Ð²Ð¼ÐµÑÑ‚Ðµ Ð´Ð²Ð° Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð² Ð¾Ð´Ð½Ð¾ (Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½Ñ‘Ð½Ð½Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ). Ð­Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð°Ðº:

```
bind readString printString 
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•—  String    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•— Unit â•‘
â•‘     â•‘            â•‘â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â•‘             â•‘â”€â”€â”€â”€> â•‘
â•‘     â•‘ readString â•‘            â•‘ printString â•‘      â•‘
â•‘ â”€â”€â”€>â•‘            â•‘â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â•‘             â•‘â”€â”€â”€â”€> â•‘
â•‘     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•            â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

Ð§Ñ‚Ð¾Ð± Ð´Ð¾ÑÑ‚Ð¸Ð³Ð½ÑƒÑ‚ÑŒ ÑÑ‚Ð¾Ð³Ð¾ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ Ð¼Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ-ÑÐºÐ»ÐµÐ¹ÐºÑƒ, Ð¸Ð»Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ-ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ‚Ð¾Ñ€,
ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ñ‚Ð¾Ð¶Ðµ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ÑÑ ÐºÐ°Ðº Ð¿Ñ€Ð¸Ð¼Ð¸Ñ‚Ð¸Ð²: 

```purescript
bind :: forall a b. Effect a -> (a -> Effect b) -> Effect b

infixl 1 bind as >>=
```

```purescript
echo :: Effect Unit
echo = readString >>= printString
```

Ð’ ÑÐ²Ð¾ÐµÐ¹ Ð¸Ð½Ñ„Ð¸ÐºÑÐ½Ð¾Ð¹ Ð½Ð¾Ñ‚Ð°Ñ†Ð¸Ð¸ ÑÑ‚Ð¾Ñ‚ ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ‚Ð¾Ñ€ `>>=` Ñ‡Ð°ÑÑ‚Ð¾ Ð¿Ñ€Ð¾Ð¸Ð·Ð½Ð¾ÑÐ¸Ñ‚ÑÑ ÐºÐ°Ðº "Ð±Ð°Ð¹Ð½Ð´". ÐžÐ½ Ð²Ð¾Ð¿Ð»Ð¾Ñ‰Ð°ÐµÑ‚ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½ÑƒÑŽ ÐºÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÑŽ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹: Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‘Ñ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÑŽÑ‰ÐµÐ¹ Ð²Ñ‚Ð¾Ñ€Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ. 

Ð Ñ‚Ð¾Ñ‡Ð½ÐµÐµ, Ð¿Ñ€Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ð¸ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½Ñ‘Ð½Ð½Ð¾Ð³Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ `a >>= f`, Ð¾Ð½ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ `a`, Ð±ÐµÑ€Ñ‘Ñ‚ ÐµÐ³Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚, Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ `f` Ðº Ð½ÐµÐ¼Ñƒ Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ, Ð·Ð°Ñ‚ÐµÐ¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ ÑÑ‚Ð¾ Ð½Ð¾Ð²Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ. 

Ð’ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÐµÐ¹ `echo` (`readString >>= printString`) ÑÐ¿ÐµÑ€Ð²Ð° Ð¾Ð½ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ `readString`, Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÑŽÑ‰ÐµÐµ ÑÑ‚Ñ€Ð¾ÐºÑƒ `s`, Ð¸ Ð·Ð°Ñ‚ÐµÐ¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ `printString s`.


Ð”Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼, Ñ‡Ñ‚Ð¾ Ð¼Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ð¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ `echo` Ð´Ð²Ð°Ð¶Ð´Ñ‹ Ð¿Ð¾Ð´Ñ€ÑÐ´. ÐœÑ‹ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÐ¼ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ `echo >>= echo`, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ `>>=` Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚ Ð²Ð¾ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð° Ð½Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð²Ð²Ð¾Ð´Ð°/Ð²Ñ‹Ð²Ð¾Ð´Ð°. Ð˜ Ð² ÑÐ°Ð¼Ð¾Ð¼ Ð´ÐµÐ»Ðµ, Ð¼Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ð¼ Ð¾Ñ‚Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ñ‚Ð¸Ð¿Ð° `Unit` Ð¾Ñ‚ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ. Ð‘ÑƒÐ´ÐµÑ‚ ÑƒÐ´Ð¾Ð±Ð½Ð¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ÑŒ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ‚Ð¾Ñ€ `>>` c Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÑƒÐ¶Ðµ Ð¸Ð¼ÐµÑŽÑ‰ÐµÐ³Ð¾ÑÑ `>>=` , in terms of the first:

```purescript
followedBy :: Effect a -> Effect b -> Effect b
followedBy ea eb = ea >>= \_ -> eb

infixl 1 followedBy as >>
```

Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ñ‹ Ð¼Ð¾Ð¶ÐµÐ¼ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ

```purescript
echoTwice :: Effect Unit
echoTwice = echo >> echo
```

ÐžÐ¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€-ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ‚Ð¾Ñ€ `>>` Ñ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº "Ð·Ð°Ñ‚ÐµÐ¼", Ñ‚Ð°Ðº Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð°Ð²Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ñ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº â€œecho Ð·Ð°Ñ‚ÐµÐ¼ echoâ€.

ÐÐ° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐµ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ñ Ð¿Ñ€Ð°Ð²Ð¾Ð¹ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹ Ð¾Ñ‚ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð° `bind` (`>>=`) Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð»ÑÐ¼Ð±Ð´Ð° Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ñ (Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ). ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð²Ð¾Ñ‚ ÐºÐ°Ðº Ð¼Ñ‹ Ð¼Ð¾Ð¶ÐµÐ¼ ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ð¸ Ð½Ð°Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ñ‚ÑŒ ÐµÑ‘ Ð´Ð²Ð°Ð¶Ð´Ñ‹:

```purescript
echoDup :: Effect Unit
echoDup = readString >>= (\s -> (printString s >> printString s))
```

All the parentheses in this example are optional, because a lambda abstraction extends as far to the right as
possible, and you will often see this laid out like this:

```purescript

echoDup :: IO ()
echoDup = 
  readString      >>= \s ->
    printString s >>
    printString s
```
